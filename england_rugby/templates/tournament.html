{% extends 'base.html' %}
{% load static %}

{% block title %}England - Rugby | Tournament{% endblock %}

{% block content %}
<h1 class="color">Welcome to The England Rubgy Tournament</h1>
<p class="color">The tournament page.</p>
<h2 class="return-home">
  <a href="{% url 'index' %}">
    <img src="{% static 'images/england-rugby.jpg' %}" alt="">
    <span>Return home</span>
  </a>
</h2>

<!-- CARD-->
<div class="grid-container">
  <div class="grid">
    <img src="{% static 'images/bus-tour.jpg' %}" alt="default.jpg" class="grid-img">
  </div>
  <div class="grid">
    <img src="{% static 'images/with-queen.jpg' %}" alt="default.jpg" class="grid-img">
  </div>
  <div class="grid">
    <img src="{% static 'images/squad-pic2.png' %}" alt="default.jpg" class="grid-img">
  </div>
</div>

<!--Container for cards to lead to more details page-->
<div class="cards-container">
{% for card in page_obj %}
<div class="card" data-url="{% url 'tournament-detail' pk=card.id %}" onclick="window.location=this.dataset.url">


  <img src="{% static 'images/' %}{{ card.image_name }}" alt="{{ card.title }}">
  <p>{{ card.content|truncatechars:100 }}</p>
  <a href="{% url 'tournament-detail' pk=card.id %}" class="read-more">Read more</a>
</div>
{% empty %}
  <p>No cards yet</p>
{% endfor %}

</div>

<!-- Paginator Controls -->
<div class="pagination">
  <div class="page-number">
    <span class="page-info">
      Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}
    </span>
  </div>

  {% if page_obj.has_previous %}
  <div class="prev-wrapper">
    <a href="?page={{ page_obj.previous_page_number }}" class="prev-btn">« Previous</a>
  </div>
  {% endif %}

  {% if page_obj.has_next %}
  <div class="next-wrapper">
    <a href="?page={{ page_obj.next_page_number }}" class="next-btn">Next »</a>
  </div>
  {% endif %}
</div>


{% endblock %}